(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n(10),a=n.n(c),i=(n(15),n(16),n(4)),o=n(3),l=n(6),r=n(0);var j=function(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(s.useEffect)((function(){fetch(l.getTokens,{method:"GET",headers:{"content-type":"application/json",accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),c(e)})).catch((function(e){console.log(e)}))}),[]),Object(r.jsxs)("div",{className:"content",children:[Object(r.jsx)("p",{children:o["bad-token"]}),Object(r.jsx)("p",{children:"Deneme i\xe7in a\u015fa\u011f\u0131daki linkleri kullanabilirsiniz"}),Object(r.jsx)("ul",{children:n.map((function(e,t){return Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"/?token="+e,children:"?token="+e})},t)}))})]})};function u(e){return Object(r.jsx)("button",{onClick:e.onClick,className:"survey-save-btn",children:e.name})}var d=function(e){var t=Object(s.useState)([]),n=Object(i.a)(t,2),c=n[0],a=n[1];return Object(s.useEffect)((function(){fetch(l.getQuestions,{method:"POST",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify({token:e.token})}).then((function(e){return e.json()})).then((function(e){console.log(e),a(e.questions)})).catch((function(e){window.location.href="/",console.log(e)}))}),[]),Object(r.jsxs)("div",{className:"content",children:[Object(r.jsx)("p",{children:o["please-answer"]}),Object(r.jsx)("div",{className:"questions-list",children:c.map((function(e){return Object(r.jsxs)("span",{children:[e.title,Object(r.jsx)("div",{className:"wrapper",children:e.options.map((function(t,n){return Object(r.jsxs)("span",{children:[Object(r.jsx)("input",{type:"radio",name:"selected",id:"option-"+n,value:t.key,checked:e.answer===t.key,onChange:function(t){return function(e,t){for(var n=[],s=0;s<c.length;s++)c[s].id===e.id&&(c[s].answer=t.target.value),n.push(c[s]);a(n)}(e,t)}}),Object(r.jsxs)("label",{htmlFor:"option-"+n,className:"option ".concat(e.answer===t.key?"option-"+n:""),children:[Object(r.jsx)("div",{className:"dot"}),Object(r.jsx)("span",{children:t.value})]})]},n)}))})]},e.id)}))}),Object(r.jsx)(u,{name:"Kay\u0131t Et",onClick:function(){fetch(l.setAnswer,{method:"POST",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify({token:e.token,questions:c})}).then((function(e){return e.json()})).then((function(e){console.log(e),null==e.error?(document.getElementById("saveStatus").style.display="block",document.getElementById("saveStatus").innerHTML=o["success-save"]):(document.getElementById("saveStatus").style.display="block",document.getElementById("saveStatus").innerHTML=e.error.message)})).catch((function(e){console.log(e),document.getElementById("saveStatus").style.display="none"}))}}),Object(r.jsx)("p",{id:"saveStatus",style:{display:"none"},children:o["success-save"]})]})},p=n.p+"static/media/logo.34ac6420.png";var h=function(){function e(){var e=window.location.search.substr(1).split("=");return"token"===e[0]?e[1]:""}return Object(r.jsxs)("div",{className:"main-root",children:[Object(r.jsx)("a",{href:"admin",style:{top:"10px",right:"10px",fontSize:"14px",position:"absolute",textDecoration:"underline",color:"white"},children:o["admin-page"]}),Object(r.jsx)("div",{className:"header",children:Object(r.jsx)("img",{alt:"logo",src:p,className:"logo",width:"300",height:"105"})}),Object(r.jsx)("h4",{children:o["app-name"]}),""===e()?Object(r.jsx)(j,{}):Object(r.jsx)(d,{token:e()})]})};function b(e){var t=e.sqSize,n=(e.sqSize-e.strokeWidth)/2,s="0 0 ".concat(t," ").concat(t),c=n*Math.PI*2,a=c-c*e.percentage/100;return Object(r.jsx)("div",{style:{marginTop:"20px"},children:Object(r.jsxs)("svg",{width:e.sqSize,height:e.sqSize,viewBox:s,children:[Object(r.jsx)("circle",{className:"circle-background",cx:e.sqSize/2,cy:e.sqSize/2,r:n,strokeWidth:"".concat(e.strokeWidth,"px")}),Object(r.jsx)("circle",{className:"circle-progress",cx:e.sqSize/2,cy:e.sqSize/2,r:n,strokeWidth:"".concat(e.strokeWidth,"px"),transform:"rotate(-90 ".concat(e.sqSize/2," ").concat(e.sqSize/2,")"),style:{strokeDasharray:c,strokeDashoffset:a}}),Object(r.jsx)("text",{className:"circle-text",x:"50%",y:"50%",dy:".3em",textAnchor:"middle",children:"".concat(e.percentage,"%")})]})})}var O=function(){var e=Object(s.useState)(),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(),j=Object(i.a)(a,2),u=j[0],d=j[1],p=Object(s.useState)(0),h=Object(i.a)(p,2),O=h[0],m=h[1],x=Object(s.useState)(),f=Object(i.a)(x,2),g=f[0],y=f[1],v=Object(s.useState)(),k=Object(i.a)(v,2),S=k[0],N=k[1],w=Object(s.useState)(0),z=Object(i.a)(w,2),q=z[0],T=z[1];return Object(s.useEffect)((function(){fetch(l.getFilling,{method:"GET",headers:{"content-type":"application/json",accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),c(e.userCount),d(e.toFill),m(parseInt(100*e.toFill/e.userCount))})).catch((function(e){console.log(e)})),fetch(l.getAnswer,{method:"GET",headers:{"content-type":"application/json",accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),y(e.yes),N(e.no),T(parseInt(100*e.yes/(e.yes+e.no)))})).catch((function(e){console.log(e)}))}),[]),Object(r.jsxs)("div",{className:"content-sta",children:[Object(r.jsxs)("div",{className:"statistic-content",children:[Object(r.jsx)("p",{className:"statistic-title",children:o["user-filling"]}),Object(r.jsxs)("span",{className:"statistic-desc",children:[o["user-count"],Object(r.jsx)("span",{className:"statistic-value",children:n})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("span",{className:"statistic-desc",children:[o["user-filling-count"],Object(r.jsx)("span",{className:"statistic-value",children:u})]}),Object(r.jsx)(b,{strokeWidth:"10",sqSize:"200",percentage:O})]}),Object(r.jsxs)("div",{className:"statistic-content",children:[Object(r.jsx)("p",{className:"statistic-title",children:o["satisfaction-ratio"]}),Object(r.jsxs)("span",{className:"statistic-desc",children:[o["yes-count"],Object(r.jsx)("span",{className:"statistic-value",children:g})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("span",{className:"statistic-desc",children:[o["no-count"],Object(r.jsx)("span",{className:"statistic-value",children:S})]}),Object(r.jsx)(b,{strokeWidth:"10",sqSize:"200",percentage:q})]})]})};var m=function(){return Object(r.jsxs)("div",{className:"main-root",children:[Object(r.jsx)("a",{href:"/",style:{top:"10px",right:"10px",fontSize:"14px",position:"absolute",textDecoration:"underline",color:"white"},children:o["main-page"]}),Object(r.jsx)("div",{className:"header",children:Object(r.jsx)("img",{alt:"logo",src:p,className:"logo",width:"300",height:"105"})}),Object(r.jsx)("h4",{children:o["app-name"]}),Object(r.jsx)(O,{})]})},x=n(2);var f=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)(x.c,{children:[Object(r.jsx)(x.a,{path:"/",element:Object(r.jsx)(h,{})}),Object(r.jsx)(x.a,{path:"admin",element:Object(r.jsx)(m,{})})]})})},g=n(9),y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),c(e),a(e),i(e)}))};a.a.render(Object(r.jsx)(g.a,{children:Object(r.jsx)(f,{})}),document.getElementById("root")),y()},3:function(e){e.exports=JSON.parse('{"app-name":"Anket Uygulamas\u0131","please-answer":"L\xfctfen Sorular\u0131 Cevaplay\u0131n\u0131z","success-save":"Ba\u015far\u0131yla cevaplar\u0131n\u0131z kay\u0131t edildi.","bad-token":"Ge\xe7erli bir token mevcut de\u011fil!","user-filling":"Kat\u0131l\u0131m Oran\u0131","user-count":"Kat\u0131l\u0131mc\u0131 Say\u0131s\u0131: ","user-filling-count":"Anket Dolduranlar\u0131n Say\u0131s\u0131: ","satisfaction-ratio":"Memnuniyet Oran\u0131","yes-count":"Evet Say\u0131s\u0131: ","no-count":"Hay\u0131r Say\u0131s\u0131: ","admin-page":"Admin Sayfas\u0131 \u0130\xe7in T\u0131klay\u0131n\u0131z","main-page":"Anasayfa \u0130\xe7in T\u0131klay\u0131n\u0131z"}')},6:function(e){e.exports=JSON.parse('{"getFilling":"http://localhost:8080/survey/api/statistics/v1/getFilling","getAnswer":"http://localhost:8080/survey/api/statistics/v1/getAnswer","getQuestions":"http://localhost:8080/survey/api/question/v1/getQuestions","setAnswer":"http://localhost:8080/survey/api/question/v1/setAnswer","getTokens":"http://localhost:8080/survey/api/user/v1/getTokens"}')}},[[18,1,2]]]);
//# sourceMappingURL=main.a71b345e.chunk.js.map